{"ast":null,"code":"import _defineProperty from \"/Users/chendengfei/Documents/workspace/xining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/chendengfei/Documents/workspace/xining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chendengfei/Documents/workspace/xining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chendengfei/Documents/workspace/xining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chendengfei/Documents/workspace/xining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/chendengfei/Documents/workspace/xining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/chendengfei/Documents/workspace/xining/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chendengfei/Documents/workspace/xining/src/views/examples/Login.jsx\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\"; // reactstrap components\n\nimport { login as _login } from \"bin/axios/user\";\nimport { Alert } from \"reactstrap\";\nimport PropTypes from 'prop-types';\nimport { Button, Card, CardBody, FormGroup, Form, Input, InputGroupAddon, InputGroupText, InputGroup, Row, Col } from \"reactstrap\"; // const history = createBrowserHistory();\n// const location = history.location;\n// const unlisten = history.listen((location, action) => {\n//   // location is an object like window.location\n//   console.log(action, location.pathname, location.state);\n// });\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      username: '',\n      password: '',\n      sort: 1,\n      showError: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.login = _this.login.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var target = event.target;\n      console.log(target.type);\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      var name = target.name;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"login\",\n    value: function login() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          username = _this$state.username,\n          password = _this$state.password,\n          sort = _this$state.sort;\n      var prams = {\n        username: username,\n        password: password,\n        sort: sort\n      };\n      console.log(prams);\n      /**\n       *  @description 发送登录请求\n       */\n\n      _login(prams).then(function (res) {\n        if (res.retcode === 0) {\n          _this2.context.router.history.push(\"/Shopping/sales//\");\n        } else {\n          console.log(\"sasa\");\n\n          _this2.setState({\n            showError: true\n          });\n\n          console.log(_this2.state.showError);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Col, {\n        lg: \"5\",\n        md: \"7\",\n        className: \"py-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"bg-secondary shadow border-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        className: \"px-lg-5 py-lg-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-center text-muted mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"please login\")), React.createElement(Form, {\n        role: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ni ni-email-83\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }))), React.createElement(Input, {\n        name: \"username\",\n        placeholder: \"\\u624B\\u673A\\u53F7\",\n        type: \"text\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"input-group-alternative\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"ni ni-lock-circle-open\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }))), React.createElement(Input, {\n        name: \"password\",\n        placeholder: \"\\u5BC6\\u7801\",\n        type: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"custom-control custom-radio mb-3 ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"custom-control-input\",\n        id: \"customRadio5\",\n        name: \"sort\",\n        type: \"radio\",\n        value: 1,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"custom-control-label\",\n        htmlFor: \"customRadio5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"\\u6E38\\u5BA2\")), React.createElement(\"div\", {\n        className: \"custom-control custom-radio mb-3 ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"custom-control-input\",\n        id: \"customRadio6\",\n        name: \"sort\",\n        type: \"radio\",\n        value: 2,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"custom-control-label\",\n        htmlFor: \"customRadio6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"\\u9500\\u552E\")), React.createElement(\"div\", {\n        className: \"custom-control custom-radio mb-3 ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"custom-control-input\",\n        id: \"customRadio7\",\n        name: \"sort\",\n        type: \"radio\",\n        value: 3,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"custom-control-label\",\n        htmlFor: \"customRadio7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"\\u53F8\\u673A\"))), React.createElement(Alert, {\n        color: \"danger\",\n        isOpen: this.state.showError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Danger!\"), \" \\u60A8\\u8F93\\u5165\\u7684\\u5BC6\\u7801\\u6709\\u8BEF!\"), React.createElement(\"div\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"my-1\",\n        color: \"primary\",\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\"), React.createElement(Button, {\n        className: \"my-1\",\n        color: \"primary\",\n        to: \"/auth/register\",\n        tag: Link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"\\u6CE8\\u518C\"))))), React.createElement(Row, {\n        className: \"mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nLogin.contextTypes = {\n  router: PropTypes.object\n};\nexport default Login;","map":{"version":3,"sources":["/Users/chendengfei/Documents/workspace/xining/src/views/examples/Login.jsx"],"names":["React","Link","login","Alert","PropTypes","Button","Card","CardBody","FormGroup","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Row","Col","Login","props","state","username","password","sort","showError","handleChange","bind","event","target","console","log","type","value","checked","name","setState","prams","then","res","retcode","context","router","history","push","Component","contextTypes","object"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n// reactstrap components\nimport { login } from \"bin/axios/user\";\nimport { Alert } from \"reactstrap\";\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  Card,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Row,\n  Col\n} from \"reactstrap\";\n\n// const history = createBrowserHistory();\n// const location = history.location;\n// const unlisten = history.listen((location, action) => {\n//   // location is an object like window.location\n//   console.log(action, location.pathname, location.state);\n// });\nclass Login extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object\n  }\n  constructor(props) {\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      sort:1,\n      showError: false\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.login = this.login.bind(this);\n  }\n  componentDidMount() {\n\n  }\n  handleChange(event) {\n    const target = event.target;\n    console.log(target.type)\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n  login() {\n    let {username,password,sort  } = this.state\n    let prams = {username,password,sort}\n    console.log(prams);\n    /**\n     *  @description 发送登录请求\n     */\n    login(prams).then((res) => {\n        if(res.retcode === 0) {\n          this.context.router.history.push(\"/Shopping/sales//\")\n        } else {\n          console.log(\"sasa\")\n          this.setState({\n            showError: true\n          });\n          console.log(this.state.showError)\n        }\n    })\n  }\n  render() {\n    return (\n        <Col lg=\"5\" md=\"7\" className=\"py-5\">\n          <Card className=\"bg-secondary shadow border-0\">\n            {/* <CardHeader className=\"bg-transparent pb-5\">\n              <div className=\"text-muted text-center mt-2 mb-3\">\n                <small>Sign in with</small>\n              </div>\n              <div className=\"btn-wrapper text-center\">\n                <Button\n                  className=\"btn-neutral btn-icon\"\n                  color=\"default\"\n                  href=\"#pablo\"\n                  onClick={e => e.preventDefault()}\n                >\n                  <span className=\"btn-inner--icon\">\n                    <img\n                      alt=\"...\"\n                      src={require(\"assets/img/icons/common/github.svg\")}\n                    />\n                  </span>\n                  <span className=\"btn-inner--text\">Github</span>\n                </Button>\n                <Button\n                  className=\"btn-neutral btn-icon\"\n                  color=\"default\"\n                  href=\"#pablo\"\n                  onClick={e => e.preventDefault()}\n                >\n                  <span className=\"btn-inner--icon\">\n                    <img\n                      alt=\"...\"\n                      src={require(\"assets/img/icons/common/google.svg\")}\n                    />\n                  </span>\n                  <span className=\"btn-inner--text\">Google</span>\n                </Button>\n              </div>\n            </CardHeader> */}\n            <CardBody className=\"px-lg-5 py-lg-5\">\n              <div className=\"text-center text-muted mb-4\">\n                <small>please login</small>\n              </div>\n              <Form role=\"form\">\n                <FormGroup className=\"mb-3\">\n                  <InputGroup className=\"input-group-alternative\">\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"ni ni-email-83\" />\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input name=\"username\" placeholder=\"手机号\" type=\"text\" value={this.state.username}  onChange={this.handleChange} />\n                  </InputGroup>\n                </FormGroup>\n                <FormGroup>\n                  <InputGroup className=\"input-group-alternative\">\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"ni ni-lock-circle-open\" />\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input name=\"password\" placeholder=\"密码\" type=\"password\" value={this.state.password}  onChange={this.handleChange} />\n                  </InputGroup>\n                </FormGroup>\n                <Row>\n                <div className=\"custom-control custom-radio mb-3 ml-3\">\n                  <input\n                    className=\"custom-control-input\"\n                    id=\"customRadio5\"\n                    name=\"sort\"\n                    type=\"radio\"\n                    value={1}\n                    onChange={this.handleChange}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"customRadio5\">\n                    游客\n                  </label>\n                </div>\n                <div className=\"custom-control custom-radio mb-3 ml-3\">\n                  <input\n                    className=\"custom-control-input\"\n                    id=\"customRadio6\"\n                    name=\"sort\"\n                    type=\"radio\"\n                    value={2}\n                    onChange={this.handleChange}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"customRadio6\">\n                    销售\n                  </label>\n                </div>\n                <div className=\"custom-control custom-radio mb-3 ml-3\">\n                  <input\n                    className=\"custom-control-input\"\n                    id=\"customRadio7\"\n                    name=\"sort\"\n                    type=\"radio\"\n                    value={3}\n                    onChange={this.handleChange}\n                  />\n                  <label className=\"custom-control-label\" htmlFor=\"customRadio7\">\n                    司机\n                  </label>\n                </div>\n                </Row>\n\n                <Alert color=\"danger\" isOpen={this.state.showError}>\n                  <strong>Danger!</strong> 您输入的密码有误!\n                </Alert>\n                {/* <div className=\"custom-control custom-control-alternative custom-checkbox\">\n                  <input\n                    className=\"custom-control-input\"\n                    id=\" customCheckLogin\"\n                    type=\"checkbox\"\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\" customCheckLogin\"\n                  >\n                    <span className=\"text-muted\">Remember me</span>\n                  </label>\n                </div> */}\n                <div className=\"text-center\">\n                  <Button className=\"my-1\" color=\"primary\"  onClick={this.login} >\n                    登录\n                  </Button>\n                  <Button className=\"my-1\" color=\"primary\"  to=\"/auth/register\"  tag={Link}>\n                    注册\n                  </Button>\n                </div>\n              </Form>\n            </CardBody>\n          </Card>\n          <Row className=\"mt-3\">\n            <Col xs=\"6\">\n              {/* <a\n                className=\"text-light\"\n                href=\"#pablo\"\n                onClick={e => e.preventDefault()}\n              >\n                <small>Forgot password?</small>\n              </a> */}\n            </Col>\n            {/* <Col className=\"text-right\" xs=\"6\">\n              <a\n                className=\"text-light\"\n                href=\"#pablo\"\n                onClick={e => e.preventDefault()}\n              >\n                <small>创建帐户</small>\n              </a>\n            </Col> */}\n          </Row>\n        </Col>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}